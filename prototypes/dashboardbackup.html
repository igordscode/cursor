<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClinicAI - Dashboard</title>
  <!-- TailwindCSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons via CDN -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --background: oklch(1.0000 0 0);
      --foreground: oklch(0.3211 0 0);
      --card: oklch(1.0000 0 0);
      --card-foreground: oklch(0.3211 0 0);
      --popover: oklch(1.0000 0 0);
      --popover-foreground: oklch(0.3211 0 0);
      --primary: oklch(0.6231 0.1880 259.8145);
      --primary-foreground: oklch(1.0000 0 0);
      --secondary: oklch(0.9670 0.0029 264.5419);
      --secondary-foreground: oklch(0.4461 0.0263 256.8018);
      --muted: oklch(0.9846 0.0017 247.8389);
      --muted-foreground: oklch(0.5510 0.0234 264.3637);
      --accent: oklch(0.9514 0.0250 236.8242);
      --accent-foreground: oklch(0.3791 0.1378 265.5222);
      --destructive: oklch(0.6368 0.2078 25.3313);
      --destructive-foreground: oklch(1.0000 0 0);
      --border: oklch(0.9276 0.0058 264.5313);
      --input: oklch(0.9276 0.0058 264.5313);
      --ring: oklch(0.6231 0.1880 259.8145);
      --radius: 0.375rem;
      --shadow: 0 1.5px 8px 0 rgba(30,34,40,0.06);
    }
    body { background: var(--background); color: var(--foreground); }
    .card { background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow); border: 1px solid var(--border); }
    .kpi-icon { background: var(--muted); border-radius: 8px; }
    .scrollbar-thin::-webkit-scrollbar { width: 6px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
    .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
    @keyframes spin-slow { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .animate-spin-slow { animation: spin-slow 2.5s linear infinite; }
  </style>
</head>
<body class="font-sans antialiased">
<div class="flex min-h-screen bg-background">
  <!-- Sidebar -->
  <aside class="hidden md:flex flex-col w-64 border-r border-border bg-card px-4 py-6">
    <div class="flex items-center mb-8">
      <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-2">
        <i data-lucide="stethoscope" class="w-5 h-5 text-primary-foreground"></i>
      </div>
      <span class="text-xl font-bold tracking-tight">ClinicAI</span>
    </div>
    <nav class="flex-1 space-y-1 text-[15px]">
      <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary text-primary-foreground font-medium">
        <i data-lucide="layout-dashboard" class="w-5 h-5"></i> Dashboard
      </a>
      <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition">
        <i data-lucide="calendar" class="w-5 h-5"></i> Agenda
      </a>
      <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition">
        <i data-lucide="users" class="w-5 h-5"></i> Pacientes
      </a>
      <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition">
        <i data-lucide="trending-up" class="w-5 h-5"></i> Leads
      </a>
      <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition">
        <i data-lucide="settings" class="w-5 h-5"></i> Configuraciones
      </a>
    </nav>
    <div class="mt-8 flex items-center gap-2 text-xs text-muted-foreground">
      <i data-lucide="user" class="w-4 h-4"></i> Camila (Admin)
    </div>
  </aside>
  <!-- Main Content -->
  <div class="flex-1 flex flex-col min-w-0">
    <!-- Header -->
    <header class="h-16 flex items-center justify-between border-b border-border px-4 md:px-8 bg-white shadow-sm sticky top-0 z-10">
      <div class="flex items-center justify-between w-full">
        <span class="font-bold text-xl flex-shr ink-0">DASHBOARD</span>
        <div class="flex-1 flex justify-center">
          <div class="flex items-center gap-4">
            <!-- Card completo para desktop -->
            <div class="card header-alert-card bg-red-50 border-l-4 border-red-500 rounded-xl shadow-sm px-4 md:px-6 py-2 sm:flex hidden items-center gap-3 min-w-0 max-w-lg mx-auto my-2"></div>
            <!-- Card compacto para mobile -->
            <div class="card header-alert-card-mobile bg-red-50 border-l-4 border-red-500 rounded-xl shadow-sm px-2 py-1 flex sm:hidden items-center gap-2 w-full max-w-full"></div>
            <!-- Sino de notifica√ß√µes -->
            <button class="relative" aria-label="Notifica√ß√µes">
              <i data-lucide="bell" class="w-6 h-6"></i>
              <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold flex items-center justify-center rounded-full border-2 border-white">3</span>
            </button>
          </div>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <div class="relative hidden sm:block">
          <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"></i>
          <input type="text" placeholder="Buscar..." class="pl-10 pr-4 py-2 bg-muted border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent" />
        </div>
        <div class="flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-muted">
          <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center"><span class="text-sm font-medium text-primary-foreground">M</span></div>
          <span class="hidden sm:block text-sm font-medium">Camila</span>
          <i data-lucide="chevron-down" class="w-4 h-4 text-muted-foreground"></i>
        </div>
      </div>
    </header>
    <!-- Main Area -->
    <main class="flex-1 px-2 sm:px-4 md:px-8 py-6 bg-background overflow-x-auto scrollbar-thin">
      <!-- Welcome Banner -->
      <section class="card flex flex-col md:flex-row md:items-center md:justify-between p-6 mb-6">
        <div class="flex flex-col gap-2 md:gap-0 md:flex-row md:items-center md:justify-between w-full">
          <div>
            <h1 class="text-3xl font-bold mb-2">Hola, Camila <span class='inline-block align-middle'>üëã</span></h1>
            <p class="text-muted-foreground">Ac√° est√° el resumen de tu cl√≠nica Hoy .</p>
          </div>
          <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mt-4 md:mt-0">
            <!-- Bot√µes de a√ß√£o r√°pida na barra de boas-vindas -->
            <div class="flex flex-wrap gap-4 justify-start md:justify-center xl:justify-end">
              <button class="flex items-center gap-1 px-3 py-1.5 rounded-2xl bg-blue-600 text-white font-medium hover:bg-blue-700 transition text-sm shadow-md focus:ring-2 focus:ring-blue-300 hover:shadow-lg hover:-translate-y-0.5">
                <i data-lucide='user-plus' class='w-4 h-4 text-inherit opacity-80'></i> Nuevo Lead
              </button>
              <button class="flex items-center gap-1 px-3 py-1.5 rounded-2xl border border-blue-600 text-blue-600 font-medium bg-white hover:bg-blue-50 transition text-sm shadow-md focus:ring-2 focus:ring-blue-300 hover:shadow-lg hover:-translate-y-0.5">
                <i data-lucide='calendar-plus' class='w-4 h-4 text-inherit opacity-80'></i> Nueva Cita
              </button>
              <button class="flex items-center gap-1 px-3 py-1.5 rounded-2xl border border-blue-600 text-blue-600 font-medium bg-white hover:bg-blue-50 transition text-sm shadow-md focus:ring-2 focus:ring-blue-300 hover:shadow-lg hover:-translate-y-0.5">
                <i data-lucide='dollar-sign' class='w-4 h-4 text-inherit opacity-80'></i> Ver Finanzas
              </button>
              <button class="flex items-center gap-1 px-3 py-1.5 rounded-2xl border border-blue-600 text-blue-600 font-medium bg-white hover:bg-blue-50 transition text-sm shadow-md focus:ring-2 focus:ring-blue-300 hover:shadow-lg hover:-translate-y-0.5">
                <i data-lucide='megaphone' class='w-4 h-4 text-inherit opacity-80'></i> Lanzar Campa√±a
              </button>
              <button class="flex items-center gap-1 px-3 py-1.5 rounded-2xl border border-blue-600 text-blue-600 font-medium bg-white hover:bg-blue-50 transition text-sm shadow-md focus:ring-2 focus:ring-blue-300 hover:shadow-lg hover:-translate-y-0.5">
                <i data-lucide='file-text' class='w-4 h-4 text-inherit opacity-80'></i> Reporte del Mes
              </button>
            </div>
            <select class="px-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ring mt-2 md:mt-0">
              <option selected>Julio 2025</option>
              <option>Junio 2025</option>
              <option>Mayo 2025</option>
            </select>
          </div>
        </div>
      </section>
      <!-- Indicadores Clave -->
      <section class="mb-16">
        <h2 class="text-2xl font-bold mb-8">Indicadores Clave</h2>
        <!-- Grupo: Financiero -->
        <div class="mb-10">
          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="folder" class="w-6 h-6 text-blue-800"></i>
            <h3 class="text-lg font-semibold">Financiero</h3>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            <!-- Facturaci√≥n (Mes) -->
            <div class="card p-5 border border-blue-800/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="dollar-sign" class="w-5 h-5 text-blue-800"></i>
                <span class="text-sm text-muted-foreground font-semibold">Facturaci√≥n (Mes)</span>
              </div>
              <div class="text-2xl font-bold">Gs. 74.000.000</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +8% <span class="ml-1 text-muted-foreground">Mensual</span>
              </div>
            </div>
            <!-- Resultado Neto (Mes) -->
            <div class="card p-5 border border-blue-800/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="activity" class="w-5 h-5 text-blue-700"></i>
                <span class="text-sm text-muted-foreground font-semibold">Resultado Neto (Mes)</span>
              </div>
              <div class="text-2xl font-bold">Gs. 33.950.000</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +5% <span class="ml-1 text-muted-foreground">Mensual</span>
              </div>
            </div>
            <!-- Valor del Paciente (LTV) -->
            <div class="card p-5 border border-blue-800/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="star" class="w-5 h-5 text-blue-600"></i>
                <span class="text-sm text-muted-foreground font-semibold">Valor del Paciente (LTV)
                  <span class="ml-1 relative group align-baseline cursor-pointer" style="display:inline-flex;align-items:baseline;vertical-align:middle;top:-1px">
                    <svg xmlns="http://www.w3.org/2000/svg" class="inline w-4 h-4 text-zinc-400 group-hover:text-blue-600 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <span class="absolute left-1/2 -translate-x-1/2 top-full mt-1 w-48 bg-white text-xs text-zinc-700 rounded shadow-lg px-3 py-2 opacity-0 group-hover:opacity-100 pointer-events-none transition z-50 border border-gray-200 whitespace-normal text-left">
                      LTV (Lifetime Value): Valor total promedio que un paciente genera durante su relaci√≥n con la cl√≠nica.
                    </span>
                  </span>
                </span>
              </div>
              <div class="text-2xl font-bold">Gs. 8.850.000</div>
              <div class="flex items-center gap-1 text-sm text-red-600">
                <i data-lucide="arrow-down-right" class="w-4 h-4"></i> -2% <span class="ml-1 text-muted-foreground">vs Mes pasado</span>
              </div>
            </div>
            <!-- Pagos Confirmados (Semana) -->
            <div class="card p-5 border border-blue-800/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="badge-dollar-sign" class="w-5 h-5 text-blue-900"></i>
                <span class="text-sm text-muted-foreground font-semibold">Pagos Confirmados (Semana)</span>
              </div>
                <div class="text-2xl font-bold">Gs. 22.350.000</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +7% <span class="ml-1 text-muted-foreground">Semanal</span>
              </div>
            </div>
            
          </div>
        </div>
        <!-- Grupo: Atenci√≥n -->
        <div class="mb-10">
          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="stethoscope" class="w-6 h-6 text-cyan-700"></i>
            <h3 class="text-lg font-semibold">Atenci√≥n</h3>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            <!-- Citas (Hoy) -->
            <div class="card p-5 border border-cyan-700/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="calendar" class="w-5 h-5 text-cyan-700"></i>
                <span class="text-sm text-muted-foreground font-semibold">Citas (Hoy)</span>
              </div>
              <div class="text-2xl font-bold">6</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +1 <span class="ml-1 text-muted-foreground">vs Lunes pasado</span>
              </div>
            </div>
            <!-- Consultas Concluidas (Mes) -->
            <div class="card p-5 border border-cyan-700/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="check-circle" class="w-5 h-5 text-cyan-700"></i>
                <span class="text-sm text-muted-foreground font-semibold">Consultas Concluidas (Mes)</span>
              </div>
              <div class="text-2xl font-bold">113</div>
              <div class="flex items-center gap-1 text-sm text-zinc-500">
                <i data-lucide="arrow-left-right" class="w-4 h-4"></i> 0%<span class="ml-1 text-muted-foreground">Sin variaci√≥n</span>
              </div>
            </div>
            <!-- Pacientes Nuevos (Mes) -->
            <div class="card p-5 border border-cyan-700/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="user-plus" class="w-5 h-5 text-cyan-700"></i>
                <span class="text-sm text-muted-foreground font-semibold">Pacientes Nuevos (Mes)</span>
              </div>
              <div class="text-2xl font-bold">47</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +7 <span class="ml-1 text-muted-foreground">Mensual</span>
              </div>
            </div>
            <!-- Tasa de Ocupaci√≥n (Hoy) -->
            <div class="card p-5 border border-cyan-700/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="activity" class="w-5 h-5 text-cyan-700"></i>
                <span class="text-sm text-muted-foreground font-semibold">Tasa de Ocupaci√≥n (Hoy)</span>
              </div>
              <div class="text-2xl font-bold">85%</div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold text-zinc-500">17/20</span>
                <div class="flex items-center gap-1 text-sm text-green-600">
                  <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +4% <span class="ml-1 text-muted-foreground">vs Martes pasado</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Grupo: Marketing & Leads -->
        <div class="mb-10">
          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="target" class="w-6 h-6 text-orange-600"></i>
            <h3 class="text-lg font-semibold">Marketing & Leads</h3>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            <!-- Ticket Medio (Mes) -->
            <div class="card p-5 border border-orange-400/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="credit-card" class="w-5 h-5 text-orange-600"></i>
                <span class="text-sm text-muted-foreground font-semibold">Ticket Medio <span class='font-normal'>(Mes)</span>
                  <span class="ml-1 relative group align-baseline cursor-pointer" style="display:inline-flex;align-items:baseline;vertical-align:middle;">
                    <svg xmlns="http://www.w3.org/2000/svg" class="inline w-4 h-4 text-zinc-400 group-hover:text-orange-600 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <span class="absolute left-1/2 -translate-x-1/2 top-full mt-1 w-48 bg-white text-xs text-zinc-700 rounded shadow-lg px-3 py-2 opacity-0 group-hover:opacity-100 pointer-events-none transition z-50 border border-gray-200 whitespace-normal text-left">
                      Ticket Promedio: Valor promedio gastado por paciente en cada consulta o compra.
                    </span>
                  </span>
                </span>
              </div>
              <div class="text-2xl font-bold">Gs. 650.000</div>
              <div class="flex items-center gap-1 text-sm text-red-600">
                <i data-lucide="arrow-down-right" class="w-4 h-4"></i> -3% <span class="ml-1 text-muted-foreground">vs mes pasado</span>
              </div>
            </div>
            <!-- Campa√±as Activas -->
            <div class="card p-5 border border-orange-400/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="megaphone" class="w-5 h-5 text-orange-500"></i>
                <span class="text-sm text-muted-foreground font-semibold">CAC Promedio <span class='font-normal'>(Mes)</span>
                  <span class="ml-1 relative group align-baseline cursor-pointer" style="display:inline-flex;align-items:baseline;vertical-align:middle;">
                    <svg xmlns="http://www.w3.org/2000/svg" class="inline w-4 h-4 text-zinc-400 group-hover:text-orange-600 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <span class="absolute left-1/2 -translate-x-1/2 top-full mt-1 w-48 bg-white text-xs text-zinc-700 rounded shadow-lg px-3 py-2 opacity-0 group-hover:opacity-100 pointer-events-none transition z-50 border border-gray-200 whitespace-normal text-left">
                      CAC (Costo de Adquisici√≥n de Cliente): Cu√°nto cuesta, en promedio, captar un nuevo paciente.
                    </span>
                  </span>
                </span>
              </div>
              <div class="text-2xl font-bold">Gs. 325.000</div>
              <div class="flex items-center gap-1 text-sm text-red-600">
                <i data-lucide="trending-down" class="w-4 h-4"></i> -8% <span class="ml-1 text-muted-foreground">vs Mes pasado</span>
              </div>
            </div>
            <!-- Tasa de Conversi√≥n -->
            <div class="card p-5 border border-orange-400/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="trending-up" class="w-5 h-5 text-orange-600"></i>
                <span class="text-sm text-muted-foreground font-semibold">Tasa de Conversi√≥n <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">32%</div>
              <div class="flex items-center gap-1 text-sm text-zinc-500">
                <i data-lucide="arrow-left-right" class="w-4 h-4"></i> <span class="ml-1 text-muted-foreground"> 0% Sin variaci√≥n</span>
              </div>
            </div>
            <!-- ROI de Campa√±as -->
            <div class="card p-5 border border-orange-400/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="bar-chart-2" class="w-5 h-5 text-orange-400"></i>
                <span class="text-sm text-muted-foreground font-semibold">ROI de Campa√±as <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">320%</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +6% <span class="ml-1 text-muted-foreground">√öltima vez</span>
              </div>
            </div>
          </div>
        </div>
        <!-- Grupo: Experiencia del Paciente -->
        <div class="mb-10">
          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="star" class="w-6 h-6 text-fuchsia-600"></i>
            <h3 class="text-lg font-semibold">Experiencia del Paciente</h3>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
            <!-- Satisfacci√≥n (NPS) -->
            <div class="card p-5 border border-fuchsia-500/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="smile" class="w-5 h-5 text-fuchsia-600"></i>
                <span class="text-sm text-muted-foreground font-semibold">Pacientes Satisfechos <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">92%</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +2% <span class="ml-1 text-muted-foreground">vs Anterior</span>
              </div>
            </div>
            <!-- Nuevas Valoraciones -->
            <div class="card p-5 border border-fuchsia-500/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="message-circle" class="w-5 h-5 text-fuchsia-500"></i>
                <span class="text-sm text-muted-foreground font-semibold">Nuevas Valoraciones <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">8</div>
              <div class="flex items-center gap-1 text-sm text-zinc-500">
                <i data-lucide="arrow-left-right" class="w-4 h-4"></i> <span class="ml-1 text-muted-foreground"> 0% Sin variaci√≥n</span>
              </div>
            </div>
            <!-- Pacientes Reincidentes -->
            <div class="card p-5 border border-fuchsia-500/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="refresh-ccw" class="w-5 h-5 text-fuchsia-400"></i>
                <span class="text-sm text-muted-foreground font-semibold">Pacientes que Retornan <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">37%</div>
              <div class="flex items-center gap-1 text-sm text-red-600">
                <i data-lucide="arrow-down-right" class="w-4 h-4"></i> -4% <span class="ml-1 text-muted-foreground">Este mes</span>
              </div>
            </div>
            <!-- Recomendaciones -->
            <div class="card p-5 border border-fuchsia-500/30 shadow-sm rounded-2xl flex flex-col gap-2">
              <div class="flex items-center gap-2 items-end">
                <i data-lucide="share-2" class="w-5 h-5 text-fuchsia-600"></i>
                <span class="text-sm text-muted-foreground font-semibold">Recomendaciones <span class='font-normal'>(Mes)</span></span>
              </div>
              <div class="text-2xl font-bold">62%</div>
              <div class="flex items-center gap-1 text-sm text-green-600">
                <i data-lucide="arrow-up-right" class="w-4 h-4"></i> +9% <span class="ml-1 text-muted-foreground">√öltima vez</span>
              </div>
            </div>
          </div>
          <!-- NPS Score Gauge Bloco -->
          <div class="card mt-8 p-6 md:p-8 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 items-stretch">
            <!-- Coluna 1: Gauge NPS + Valor + Info -->
            <div class="flex flex-col items-center justify-center">
              <div class="relative">
                <canvas id="npsScoreGauge" width="220" height="120" class="max-w-full" aria-label="Gr√°fico de NPS: 9.2 de 10"></canvas>
                <button class="absolute top-2 right-2 group" aria-label="O que √© NPS?">
                  <svg class="w-5 h-5 text-zinc-400 group-hover:text-blue-600 transition" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" stroke-linejoin="round" d="M12 16v-4M12 8h.01"/></svg>
                  <span class="absolute left-1/2 -translate-x-1/2 top-8 w-48 bg-white text-xs text-zinc-700 rounded shadow-lg px-3 py-2 opacity-0 group-hover:opacity-100 pointer-events-none transition z-50 border border-gray-200 whitespace-normal text-left">
                    NPS (Net Promoter Score) es una m√©trica de satisfacci√≥n del cliente, varia entre -100 a 10.
                  </span>
                </button>
              </div>
              <span class="mt-4 flex items-end">
                <span class="text-5xl font-extrabold text-gray-900 leading-none">9.2</span>
                <span class="ml-2 text-lg font-semibold text-green-600 leading-tight">NPS</span>
              </span>
            </div>
            <!-- Coluna 2: Breakdown + Meta + Badge -->
            <div class="flex flex-col justify-center items-center md:items-start gap-2">
              <div class="flex flex-col gap-2 w-full">
                <div class="flex items-center gap-2 text-base">
                  <span class="text-2xl">üò°</span>
                  <span class="font-semibold text-red-600">Detratores</span>
                  <span class="ml-2 text-gray-400 font-medium">12 pacientes</span>
                </div>
                <div class="flex items-center gap-2 text-base">
                  <span class="text-2xl">üòê</span>
                  <span class="font-semibold text-yellow-600">Neutros</span>
                  <span class="ml-2 text-gray-400 font-medium">20 pacientes</span>
                </div>
                <div class="flex items-center gap-2 text-base">
                  <span class="text-2xl">üòç</span>
                  <span class="font-semibold text-green-600">Promotores</span>
                  <span class="ml-2 text-gray-400 font-medium">65 pacientes</span>
                </div>
              </div>
              <div class="border-t border-gray-100 w-full my-3"></div>
              <div class="flex flex-wrap gap-3 items-center w-full text-sm text-gray-600">
                <span>Meta de NPS: <span class="font-semibold text-gray-900">9.0</span></span>
                <span class="flex items-center">NPS actual: <span class="font-semibold text-green-600 ml-1">9.2</span>
                  <svg class="ml-1 w-4 h-4 text-green-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
                </span>
                <span class="bg-green-50 text-green-700 px-2 py-0.5 rounded-full text-xs font-semibold">Acima de la media del sector</span>
              </div>
            </div>
            <!-- Coluna 3: Hist√≥rico + Feedbacks Recentes -->
            <div class="flex flex-col justify-center items-center md:items-start gap-4 w-full">
              <!-- Mini gr√°fico de hist√≥rico -->
              <div class="w-full flex flex-col items-center md:items-start">
                <span class="text-xs text-gray-500 mb-1">Hist√≥rico NPS (6 meses)</span>
                <svg viewBox="0 0 120 32" width="120" height="32" class="w-full max-w-[140px]">
                  <polyline fill="none" stroke="#22c55e" stroke-width="3" points="0,28 20,24 40,20 60,18 80,12 100,8 120,10"/>
                  <circle cx="120" cy="10" r="3" fill="#22c55e" stroke="#fff" stroke-width="1"/>
                </svg>
              </div>
              <!-- Feedbacks recentes -->
              <div class="w-full flex flex-col gap-2">
                <span class="text-xs text-gray-500 mb-1">Feedbacks recientes</span>
                <div class="flex items-start gap-2 bg-blue-50 border-l-4 border-blue-300 px-3 py-2 rounded text-blue-800 text-sm italic">
                  <svg class="w-5 h-5 text-blue-300 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5h6M9 19h6M5 9h14M5 15h14"/></svg>
                  "Muy buena atenci√≥n, recomiendo!"
                </div>
                <div class="flex items-start gap-2 bg-red-50 border-l-4 border-red-300 px-3 py-2 rounded text-red-800 text-sm italic">
                  <svg class="w-5 h-5 text-red-300 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5h6M9 19h6M5 9h14M5 15h14"/></svg>
                  "Tardaron en atenderme."
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Coluna Direita: Centro de Intelig√™ncia -->
      <div class="card flex flex-col gap-6 p-8 min-w-[320px] w-full">

        <!-- Faixa de insights -->
        <div class="bg-slate-100 p-3 rounded-md text-sm text-muted-foreground mb-4">
          Insights generados autom√°ticamente con Inteligencia Artificial para ayudar en la toma de decisiones estrat√©gicas.
        </div>

        <!-- T√≠tulo destacado -->
        <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
          <i data-lucide="brain-circuit" class="w-5 h-5 text-blue-500"></i>
          
          Centro de Inteligencia
          <span class="relative group align-baseline cursor-pointer" style="display:inline-flex;align-items:baseline;vertical-align:middle;">
            <i data-lucide="refresh-ccw" class="w-5 h-5 text-blue-500 animate-spin-slow"></i>
            <span class="absolute left-1/2 -translate-x-1/2 top-full mt-1 w-56 bg-white text-xs text-zinc-700 rounded shadow-lg px-3 py-2 opacity-0 group-hover:opacity-100 pointer-events-none transition z-50 border border-gray-200 whitespace-normal text-left">
              Insights atualizados automaticamente a cada novo dado ou evento relevante.
            </span>
          </span>
        </h2>

        <!-- Blocos em 3 colunas -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Bloco 1 -->
          <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex flex-col hover:shadow-xl hover:-translate-y-1 transition">
            <h3 class="font-bold text-green-800 mb-2 flex items-center gap-1"><i data-lucide="rocket" class="w-5 h-5 text-green-600"></i> Meta Estrat√©gica</h3>
            <p class="text-sm text-green-900 mb-2">
              Incrementar el ticket promedio sumando un <strong>12%</strong> enfocado en tratamientos est√©ticos.
              Puede generar <strong>+Gs. 8.600.000</strong> adicionales.
            </p>
            <a href="#" class="text-green-700 underline text-sm">Ver comparaci√≥n de citas est√©ticas</a>
          </div>
          <!-- Bloco 2 -->
          <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg flex flex-col hover:shadow-xl hover:-translate-y-1 transition">
            <h3 class="font-bold text-blue-800 mb-2 flex items-center gap-1"><i data-lucide="lightbulb" class="w-5 h-5 text-blue-600"></i> Oportunidad Latente</h3>
            <p class="text-sm text-blue-900 mb-2">
              La tasa de conversi√≥n de la campa√±a actual es del <strong> 48% </strong>, pero el cierre est√° en el promedio.
            </p>
            <a href="#" class="text-blue-700 underline text-sm">Ver campa√±as de Primera Evaluaci√≥n Est√©tica</a>
          </div>
          <!-- Bloco 3 -->
          <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg flex flex-col hover:shadow-xl hover:-translate-y-1 transition">
            <h3 class="font-bold text-yellow-800 mb-2 flex items-center gap-1"><i data-lucide="alert-triangle" class="w-5 h-5 text-yellow-600"></i> Riesgo de Estancamiento</h3>
            <p class="text-sm text-yellow-900 mb-2">
              <strong>13 pacientes</strong> no han regresado en m√°s de <strong>20 d√≠as</strong> desde su cancelaci√≥n.
            </p>
            <a href="#" class="text-yellow-700 underline text-sm">Generar seguimiento autom√°tico</a>
          </div>
        </div>

      
      <!-- Linha de cards secund√°rios: Turnos de Consulta e Pacientes Recientes -->
      <div class="flex flex-col md:flex-row gap-6 mb-6 items-stretch">
        <!-- Turnos de Consulta -->
        <div class="flex-1">
          <div class="card p-6 transition-shadow duration-300 hover:shadow-lg h-full">
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-base font-semibold">Turnos de Consulta</h3>
              <div class="flex gap-2">
                
                <a href="#" class="text-xs text-primary hover:underline">Ver todos</a>
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="flex items-center justify-between p-2 bg-muted rounded">
                <div>
                  <div class="font-medium">09:00 - 10:00</div>
                  <div class="text-xs text-muted-foreground">Dr. Silva - Limpieza</div>
                </div>
                <div class="w-2.5 h-2.5 bg-green-500 rounded-full"></div>
              </div>
              <div class="flex items-center justify-between p-2 bg-muted rounded">
                <div>
                  <div class="font-medium">10:30 - 11:30</div>
                  <div class="text-xs text-muted-foreground">Dra. Oliveira - Consulta</div>
                </div>
                <div class="w-2.5 h-2.5 bg-yellow-500 rounded-full"></div>
              </div>
              <div class="flex items-center justify-between p-2 bg-muted rounded">
                <div>
                  <div class="font-medium">14:00 - 15:00</div>
                  <div class="text-xs text-muted-foreground">Dr. Santos - Endodontia</div>
                </div>
                <div class="w-2.5 h-2.5 bg-blue-500 rounded-full"></div>
              </div>
              <div class="flex items-center justify-between p-2 bg-muted rounded">
                <div>
                  <div class="font-medium">15:30 - 16:30</div>
                  <div class="text-xs text-muted-foreground">Dr. Pereira - Implante</div>
                </div>
                <div class="w-2.5 h-2.5 bg-green-500 rounded-full"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- Pacientes Recientes -->
        <div class="flex-1">
          <div class="card p-6 transition-shadow duration-300 hover:shadow-lg h-full">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-base font-semibold">Pacientes Recientes</h3>
              <div class="flex gap-2">
                <a href="#" class="text-xs text-primary hover:underline">Ver todos</a>
              </div>
            </div>
            <div class="overflow-x-auto scrollbar-thin">
              <table class="min-w-full text-sm">
                <thead>
                  <tr class="border-b border-border text-muted-foreground">
                    <th class="py-2 px-2 text-left font-medium">Nombre</th>
                    <th class="py-2 px-2 text-left font-medium">Contacto</th>
                    <th class="py-2 px-2 text-left font-medium">Estado</th>
                    <th class="py-2 px-2 text-left font-medium">√öltima Consulta</th>
                    <th class="py-2 px-2 text-left font-medium">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-b border-border hover:bg-muted transition">
                    <td class="py-2 px-2 font-medium flex items-center gap-2"><span class="w-7 h-7 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">MS</span> Maria Silva</td>
                    <td class="py-2 px-2">0984 123456</td>
                    <td class="py-2 px-2"><span class="px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium">Activo</span></td>
                    <td class="py-2 px-2">25/07/2025</td>
                    <td class="py-2 px-2"><button class="p-1 hover:bg-muted rounded"><i data-lucide="more-vertical" class="w-4 h-4"></i></button></td>
                  </tr>
                  <tr class="border-b border-border hover:bg-muted transition">
                    <td class="py-2 px-2 font-medium flex items-center gap-2"><span class="w-7 h-7 rounded-full bg-secondary text-secondary-foreground flex items-center justify-center text-xs font-bold">JP</span> Jo√£o Pereira</td>
                    <td class="py-2 px-2">0971 654321</td>
                    <td class="py-2 px-2"><span class="px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium">Lead</span></td>
                    <td class="py-2 px-2">20/07/2025</td>
                    <td class="py-2 px-2"><button class="p-1 hover:bg-muted rounded"><i data-lucide="more-vertical" class="w-4 h-4"></i></button></td>
                  </tr>
                  <tr class="hover:bg-muted transition">
                    <td class="py-2 px-2 font-medium flex items-center gap-2"><span class="w-7 h-7 rounded-full bg-accent text-accent-foreground flex items-center justify-center text-xs font-bold">AO</span> Ana Oliveira</td>
                    <td class="py-2 px-2">0992 112233</td>
                    <td class="py-2 px-2"><span class="px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs font-medium">Inactivo</span></td>
                    <td class="py-2 px-2">10/07/2025</td>
                    <td class="py-2 px-2"><button class="p-1 hover:bg-muted rounded"><i data-lucide="more-vertical" class="w-4 h-4"></i></button></td>
                  </tr>
                  <!-- Paciente adicional 1 -->
                  <tr class="hover:bg-muted transition">
                    <td class="py-2 px-2 font-medium flex items-center gap-2"><span class="w-7 h-7 rounded-full bg-green-500 text-white flex items-center justify-center text-xs font-bold">LC</span> Luz Caballero</td>
                    <td class="py-2 px-2">0983 624439</td>
                    <td class="py-2 px-2"><span class="px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium">Activo</span></td>
                    <td class="py-2 px-2">28/07/2025</td>
                    <td class="py-2 px-2"><button class="p-1 hover:bg-muted rounded"><i data-lucide="more-vertical" class="w-4 h-4"></i></button></td>
                  </tr>
                  <!-- Paciente adicional 2 -->
                  <!-- Removido: Lucas Mussi -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- Vista R√°pida del Embudo -->
      <section class="card p-4 mb-4">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold">Vista R√°pida del Embudo</h3>
          <a href="#" class="flex items-center gap-1 text-primary hover:underline text-sm font-medium">
            <i data-lucide="eye" class="w-4 h-4"></i>
            Ver CRM completo
          </a>
        </div>
        <div class="flex flex-nowrap gap-4 overflow-x-auto items-center">
          <!-- Bloco 1: Contactos -->
          <div class="min-w-[160px] rounded-lg bg-[oklch(0.6231_0.1880_259.8145)] p-4 flex flex-col items-center justify-center">
            <div class="text-3xl font-bold text-white">35</div>
            <div class="text-sm font-medium text-white">Contactos</div>
            <div class="text-xs text-white">√∏ 45s resp.</div>
          </div>
          <!-- Arrow + Convers√£o 1 -->
          <div class="flex flex-col items-center min-w-[40px] justify-center">
            <i data-lucide="arrow-right" class="w-6 h-6 text-muted-foreground"></i>
            <span class="text-xs text-muted-foreground mt-1">20%</span>
          </div>
          <!-- Bloco 2: Calificados -->
          <div class="min-w-[160px] rounded-lg bg-[oklch(0.9514_0.0250_236.8242)] p-4 flex flex-col items-center justify-center">
            <div class="text-3xl font-bold text-[oklch(0.3791_0.1378_265.5222)]">7</div>
            <div class="text-sm font-medium text-[oklch(0.3791_0.1378_265.5222)]">Calificados</div>
            <div class="text-xs text-[oklch(0.3791_0.1378_265.5222)]">~2 d√≠as</div>
          </div>
          <!-- Arrow + Convers√£o 2 -->
          <div class="flex flex-col items-center min-w-[40px] justify-center">
            <i data-lucide="arrow-right" class="w-6 h-6 text-muted-foreground"></i>
            <span class="text-xs text-muted-foreground mt-1">71%</span>
          </div>
          <!-- Bloco 3: Presupuesto -->
          <div class="min-w-[160px] rounded-lg bg-yellow-500 p-4 flex flex-col items-center justify-center">
            <div class="text-3xl font-bold text-white">5</div>
            <div class="text-sm font-medium text-white">Presupuesto</div>
            <div class="text-xs text-white">~3 d√≠as</div>
          </div>
          <!-- Arrow + Convers√£o 3 -->
          <div class="flex flex-col items-center min-w-[40px] justify-center">
            <i data-lucide="arrow-right" class="w-6 h-6 text-muted-foreground"></i>
            <span class="text-xs text-muted-foreground mt-1">60%</span>
          </div>
          <!-- Bloco 4: Agendado -->
          <div class="min-w-[160px] rounded-lg bg-green-500 p-4 flex flex-col items-center justify-center">
            <div class="text-3xl font-bold text-white">3</div>
            <div class="text-sm font-medium text-white">Agendado</div>
            <div class="text-xs text-white">~1 d√≠a</div>
          </div>
          <!-- Arrow + Convers√£o 4 -->
          <div class="flex flex-col items-center min-w-[40px] justify-center">
            <i data-lucide="arrow-right" class="w-6 h-6 text-muted-foreground"></i>
          </div>
          <!-- Bloco 5: Perdidos -->
          <div class="min-w-[160px] rounded-lg bg-[oklch(0.6368_0.2078_25.3313)] p-4 flex flex-col items-center justify-center">
            <div class="text-3xl font-bold text-white">2</div>
            <div class="text-sm font-medium text-white">Perdidos</div>
            <div class="text-xs text-white">---</div>
          </div>
        </div>
        <div class="flex items-center gap-2 mt-4">
          <i data-lucide="clock" class="w-5 h-5 text-cyan-500"></i>
          <span class="text-sm font-medium text-gray-700">Tiempo Promedio:</span>
          <span class="text-base font-bold text-gray-900">2.3 d√≠as</span>
          <span class="text-xs text-gray-500">(Lead a primera cita)</span>
        </div>
      </section>
      <!-- Gr√°ficos: Rendimiento Financiero + Leads Nuevos vs Convertidos -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4 mb-4">
        <!-- Rendimiento Financiero -->
        <div class="w-full flex-1 flex">
          <section class="bg-white border border-[#e5e7eb] rounded-xl p-6 shadow-lg h-full w-full flex-1 flex flex-col">
            <!-- Cole aqui todo o conte√∫do SVG e legendas do gr√°fico de linhas -->
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-2">
              <div>
                <h2 class="text-xl font-semibold text-[#333333]">Rendimiento Financiero</h2>
                <span class="text-sm text-gray-500">Facturaci√≥n vs. Gastos (√öltimos 6 meses)</span>
              </div>
              <div class="mt-2 md:mt-0">
                <select class="px-4 py-2 bg-white border border-[#e5e7eb] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#3b82f6] focus:border-[#3b82f6]">
                  <option>1 a√±o</option>
                  <option selected>6 meses</option>
                  <option>3 meses</option>
                  <option>30 d√≠as</option>
                  <option>7 d√≠as</option>
                </select>
              </div>
            </div>
            <div class="w-full h-80 relative flex-1">
              <svg viewBox="0 0 800 300" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                <!-- Defini√ß√µes de gradientes -->
                <defs>
                  <linearGradient id="facturacionGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#3b82f6" stop-opacity="0.3"/>
                    <stop offset="100%" stop-color="#3b82f6" stop-opacity="0.05"/>
                  </linearGradient>
                  <linearGradient id="gastosGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#ef4444" stop-opacity="0.2"/>
                    <stop offset="100%" stop-color="#ef4444" stop-opacity="0.05"/>
                  </linearGradient>
                  <linearGradient id="facturacionLine" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#3b82f6"/>
                    <stop offset="100%" stop-color="#1d4ed8"/>
                  </linearGradient>
                  <linearGradient id="gastosLine" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#ef4444"/>
                    <stop offset="100%" stop-color="#dc2626"/>
                  </linearGradient>
                  <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.1"/>
                  </filter>
                </defs>
                <g stroke="#f3f4f6" stroke-width="1" opacity="0.8">
                  <line x1="80" y1="50" x2="720" y2="50"/>
                  <line x1="80" y1="100" x2="720" y2="100"/>
                  <line x1="80" y1="150" x2="720" y2="150"/>
                  <line x1="80" y1="200" x2="720" y2="200"/>
                  <line x1="80" y1="250" x2="720" y2="250"/>
                </g>
                <path d="M 80 120 L 200 90 L 320 100 L 440 60 L 560 80 L 680 40 L 720 60 L 720 250 L 80 250 Z" fill="url(#facturacionGradient)"/>
                <path d="M 80 140 L 200 120 L 320 110 L 440 100 L 560 90 L 680 80 L 720 70 L 720 250 L 80 250 Z" fill="url(#gastosGradient)"/>
                <path d="M 80 120 L 200 90 L 320 100 L 440 60 L 560 80 L 680 40 L 720 60" stroke="url(#facturacionLine)" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round" filter="url(#shadow)"/>
                <path d="M 80 140 L 200 120 L 320 110 L 440 100 L 560 90 L 680 80 L 720 70" stroke="url(#gastosLine)" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="8,4" filter="url(#shadow)"/>
                <circle cx="80" cy="120" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="200" cy="90" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="320" cy="100" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="440" cy="60" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="560" cy="80" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="680" cy="40" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="720" cy="60" r="5" fill="#3b82f6" stroke="white" stroke-width="2"/>
                <circle cx="80" cy="140" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="200" cy="120" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="320" cy="110" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="440" cy="100" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="560" cy="90" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="680" cy="80" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <circle cx="720" cy="70" r="4" fill="#ef4444" stroke="white" stroke-width="2"/>
                <text x="80" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">Feb</text>
                <text x="200" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">Mar</text>
                <text x="320" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">Abr</text>
                <text x="440" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">May</text>
                <text x="560" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">Jun</text>
                <text x="680" y="280" text-anchor="middle" fill="#6b7280" font-size="12" font-family="Inter, sans-serif">Jul</text>
                <text x="60" y="255" text-anchor="end" fill="#6b7280" font-size="11" font-family="Inter, sans-serif">Gs. 0M</text>
                <text x="60" y="205" text-anchor="end" fill="#6b7280" font-size="11" font-family="Inter, sans-serif">Gs. 150M</text>
                <text x="60" y="155" text-anchor="end" fill="#6b7280" font-size="11" font-family="Inter, sans-serif">Gs. 300M</text>
                <text x="60" y="105" text-anchor="end" fill="#6b7280" font-size="11" font-family="Inter, sans-serif">Gs. 400M</text>
                <text x="60" y="55" text-anchor="end" fill="#6b7280" font-size="11" font-family="Inter, sans-serif">Gs. 500M</text> 
              </svg>
            </div>
            <div class="flex gap-8 mt-6 justify-center">
              <div class="flex items-center gap-3">
                <div class="flex items-center gap-2">
                  <div class="w-4 h-1 rounded-full bg-gradient-to-r from-[#3b82f6] to-[#1d4ed8]"></div>
                  <span class="text-sm font-medium text-[#333333]">Facturaci√≥n</span>
                </div>
                <span class="text-xs text-gray-500">Gs. 582.000.000</span>
              </div>
              <div class="flex items-center gap-3">
                <div class="flex items-center gap-2">
                  <div class="w-4 h-1 rounded-full bg-gradient-to-r from-[#ef4444] to-[#dc2626] border-dashed border-[#ef4444]"></div>
                  <span class="text-sm font-medium text-[#333333]">Gastos</span>
                </div>
                <span class="text-xs text-gray-500">Gs. 378.000.000</span>
              </div>
            </div>
          </section>
        </div>

        <!-- Leads Nuevos vs Convertidos -->
        <div class="w-full flex-1 flex">
          <section class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 h-full w-full flex-1 flex flex-col">
            <h2 class="text-sm font-semibold text-gray-700 mb-4">Leads Nuevos vs Convertidos</h2>
            <div class="w-full min-h-[220px] flex-1">
              <canvas id="leadsBarChart"></canvas>
            </div>
            <div class="flex gap-6 mt-4 flex-wrap">
              <div class="flex items-center gap-2">
                <span class="inline-block w-4 h-2 rounded bg-[#e4a800]"></span>
                <span class="text-xs text-gray-700">Leads Nuevos</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="inline-block w-4 h-2 rounded bg-[#00d7aa]"></span>
                <span class="text-xs text-gray-700">Convertidos</span>
              </div>
            </div>
          </section>
        </div>
      </div>
      <!-- An√°lise Detalhada e Opera√ß√µes do Dia -->
      <section class="grid grid-cols-1 gap-6">
        <div class="flex flex-col lg:flex-row gap-6">
          <!-- Carrossel de Profissionais -->
          <div class="bg-white rounded-xl shadow-lg border border-[#e5e7eb] p-6 flex-1 min-w-0">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-2xl font-semibold text-[#333333]">Nuestros Profesionales</h2>
              <a href="#" class="text-sm text-[#3b82f6] font-medium hover:underline">Ver todos</a>
            </div>
            <div id="doctor-scroll"
                 class="flex gap-4 overflow-x-auto pb-2 scroll-smooth cursor-grab active:cursor-grabbing select-none
                        scrollbar-thin scrollbar-track-[#f3f4f6] scrollbar-thumb-[#3b82f6]/70 hover:scrollbar-thumb-[#3b82f6]">
              <!-- Card Reutiliz√°vel -->
              <div class="relative flex-none w-64 h-96 rounded-xl overflow-hidden shadow-xl group">
                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Dra. Camila Alves"
                     class="object-cover w-full h-full" />
                <div class="absolute bottom-4 left-4 right-4 rounded-lg bg-[#3b82f6]/25 backdrop-blur-md text-white p-3 shadow-md">
                  <h3 class="text-base font-semibold leading-tight">Dra. Camila Alves</h3>
                  <p class="text-xs">Ortodoncia</p>
                  <div class="flex items-center gap-1 text-sm mt-1">
                    <span class="text-yellow-400 text-sm">‚òÖ</span>
                    4.9 <span class="text-white/80 text-xs">(321)</span>
                  </div>
                  <p class="text-xs mt-1">632 pacientes</p>
                  <p class="text-[#bbf7d0] font-semibold text-sm mt-1">Gs. 17.529.000</p>
                  <p class="text-[11px] text-white/90 leading-tight">Ingresos del mes</p>
                </div>
              </div>
              <div class="relative flex-none w-64 h-96 rounded-xl overflow-hidden shadow-xl group">
                <img src="https://randomuser.me/api/portraits/men/31.jpg" alt="Dr. Juan Pereira" class="object-cover w-full h-full" />
                <div class="absolute bottom-4 left-4 right-4 rounded-lg bg-[#3b82f6]/25 backdrop-blur-md text-white p-3 shadow-md">
                  <h3 class="text-base font-semibold leading-tight">Dr. Juan Pereira</h3>
                  <p class="text-xs">Implantolog√≠a</p>
                  <div class="flex items-center gap-1 text-sm mt-1">
                    <span class="text-yellow-400 text-sm">‚òÖ</span>
                    4.8 <span class="text-white/80 text-xs">(289)</span>
                  </div>
                  <p class="text-xs mt-1">590 pacientes</p>
                  <p class="text-[#bbf7d0] font-semibold text-sm mt-1">Gs. 13.300.000</p>
                  <p class="text-[11px] text-white/90 leading-tight">Ingresos del mes</p>
                </div>
              </div>
              <div class="relative flex-none w-64 h-96 rounded-xl overflow-hidden shadow-xl group">
                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Dra. Mariana Costa" class="object-cover w-full h-full" />
                <div class="absolute bottom-4 left-4 right-4 rounded-lg bg-[#3b82f6]/25 backdrop-blur-md text-white p-3 shadow-md">
                  <h3 class="text-base font-semibold leading-tight">Dra. Mariana Costa</h3>
                  <p class="text-xs">Endodoncia</p>
                  <div class="flex items-center gap-1 text-sm mt-1">
                    <span class="text-yellow-400 text-sm">‚òÖ</span>
                    4.7 <span class="text-white/80 text-xs">(310)</span>
                  </div>
                  <p class="text-xs mt-1">610 pacientes</p>
                  <p class="text-[#bbf7d0] font-semibold text-sm mt-1">Gs. 15.400.000</p>
                  <p class="text-[11px] text-white/90 leading-tight">Ingresos del mes</p>
                </div>
              </div>
              <div class="relative flex-none w-64 h-96 rounded-xl overflow-hidden shadow-xl group">
                <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Dr. Pedro Silva" class="object-cover w-full h-full" />
                <div class="absolute bottom-4 left-4 right-4 rounded-lg bg-[#3b82f6]/25 backdrop-blur-md text-white p-3 shadow-md">
                  <h3 class="text-base font-semibold leading-tight">Dr. Pedro Silva</h3>
                  <p class="text-xs">Periodoncia</p>
                  <div class="flex items-center gap-1 text-sm mt-1">
                    <span class="text-yellow-400 text-sm">‚òÖ</span>
                    4.8 <span class="text-white/80 text-xs">(278)</span>
                  </div>
                  <p class="text-xs mt-1">570 pacientes</p>
                  <p class="text-[#bbf7d0] font-semibold text-sm mt-1">Gs. 12.950.000</p>
                  <p class="text-[11px] text-white/90 leading-tight">Ingresos del mes</p>
                </div>
              </div>
            </div>
          </div>
          <!-- Card de Ranking de Satisfa√ß√£o -->
          <div class="bg-white rounded-xl shadow-lg border border-[#e5e7eb] p-6 w-full lg:w-80 flex flex-col gap-4 flex-shrink-0 mt-6 lg:mt-0">
            <div class="flex items-center gap-2 mb-2">
              <i data-lucide="star" class="w-6 h-6 text-yellow-400"></i>
              <span class="font-semibold text-base text-gray-900">Ranking de Satisfacci√≥n</span>
              <span class="ml-auto bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full px-2 py-0.5">Mes</span>
            </div>
            <ol class="flex-1 flex flex-col gap-3">
              <li class="flex items-center gap-3 p-2 rounded-lg bg-yellow-50">
                <span class="text-2xl">ü•á</span>
                <div class="flex flex-col">
                  <span class="font-semibold text-gray-900">Dra. Camila Alves</span>
                  <span class="text-xs text-gray-600">Nota: <span class="font-bold text-yellow-600">4.9</span> <span class="text-yellow-400">‚òÖ</span> (321 evaluaciones)</span>
                </div>
              </li>
              <li class="flex items-center gap-3 p-2 rounded-lg bg-gray-50">
                <span class="text-2xl">ü•à</span>
                <div class="flex flex-col">
                  <span class="font-semibold text-gray-900">Dr. Juan Pereira</span>
                  <span class="text-xs text-gray-600">Nota: <span class="font-bold text-yellow-600">4.8</span> <span class="text-yellow-400">‚òÖ</span> (289 evaluaciones)</span>
                </div>
              </li>
              <li class="flex items-center gap-3 p-2 rounded-lg bg-yellow-50">
                <span class="text-2xl">ü•â</span>
                <div class="flex flex-col">
                  <span class="font-semibold text-gray-900">Dra. Mariana Costa</span>
                  <span class="text-xs text-gray-600">Nota: <span class="font-bold text-yellow-600">4.7</span> <span class="text-yellow-400">‚òÖ</span> (310 evaluaciones)</span>
                </div>
              </li>
            </ol>
            <button class="mt-2 px-4 py-2 rounded-lg bg-yellow-400 text-white font-medium hover:bg-yellow-500 transition text-sm shadow focus:ring-2 focus:ring-yellow-300">Ver ranking completo</button>
            <span class="text-xs text-gray-400 mt-2">Nota basada en las evaluaciones de los pacientes en el mes actual.</span>
          </div>
        </div>
      </section>
            <!-- RESUMO OPERACIONAL - NOVA SE√á√ÉO -->
            <section class="mb-10">
              <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i data-lucide="activity" class="w-6 h-6 text-blue-600"></i>
                Resumen Operacional
              </h2>
              <!-- Linha 1: Mensagem da Semana -->
              <div class="mb-6">
                <div class="card bg-blue-50 p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4 shadow-md">
                  <div class="flex items-center gap-3 mb-2 md:mb-0">
                    <i data-lucide="lightbulb" class="w-10 h-10 text-yellow-400"></i>
                    <div>
                      <div class="font-semibold text-base text-blue-900 flex items-center gap-2">Mensaje de la Semana <span class="bg-blue-100 text-blue-700 text-xs font-medium rounded-full px-2 py-0.5">Semana 30</span></div>
                      <div class="text-sm text-gray-800 mt-1">Meta: <span class="font-bold">15 nuevas consultas por odont√≥logo</span></div>
                      <div class="flex items-center gap-2 mt-1">
                        <div class="w-40 bg-blue-100 rounded-full h-2 overflow-hidden">
                          <div class="bg-blue-500 h-2 rounded-full" style="width: 66%"></div>
                        </div>
                        <span class="text-xs text-blue-900 font-semibold">10/15</span>
                      </div>
                      <div class="text-xs text-blue-700 mt-1">Consejo: Enfocar en leads calientes</div>
                    </div>
                  </div>
                  <button class="mt-2 md:mt-0 px-4 py-2 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition text-sm shadow focus:ring-2 focus:ring-blue-300">Ver detalles</button>
                </div>
              </div>
              <!-- Linha 2: Cards lado a lado -->
              <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Pacientes Ativos -->
                <div class="card p-6 flex flex-col items-center shadow-md">
                  <div class="flex items-center gap-2 mb-2">
                    <i data-lucide="users" class="w-6 h-6 text-violet-600"></i>
                    <span class="font-semibold text-base text-gray-900">Pacientes Ativos</span>
                  </div>
                  <div class="relative w-24 h-24 mb-2">
                    <svg viewBox="0 0 100 100" class="w-full h-full">
                      <circle cx="50" cy="50" r="40" fill="none" stroke="#e5e7eb" stroke-width="10"/>
                      <circle cx="50" cy="50" r="40" fill="none" stroke="#6366f1" stroke-width="10" stroke-dasharray="251.2" stroke-dashoffset="75.36" stroke-linecap="round"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                      <span class="text-xl font-bold text-violet-700">70%</span>
                    </div>
                  </div>
                  <span class="text-xs text-gray-700 mb-1">140 de 200 pacientes</span>
                  <span class="text-xs text-green-600 font-semibold flex items-center gap-1"><i data-lucide="arrow-up-right" class="w-4 h-4"></i>+5% vs semana passada</span>
                  <button class="mt-2 px-3 py-1 rounded bg-violet-100 text-violet-700 text-xs font-medium hover:bg-violet-200 transition">Ver lista</button>
                </div>
                <!-- Consultas por Especialidade -->
                <div class="card p-6 flex flex-col shadow-md">
                  <div class="flex items-center gap-2 mb-2">
                    <i data-lucide="stethoscope" class="w-6 h-6 text-cyan-600"></i>
                    <span class="font-semibold text-base text-gray-900">Consultas por Especialidades</span>
                  </div>
                  <div class="flex flex-col gap-2 mt-2">
                    <div class="flex items-center gap-2">
                      <span class="w-6 h-6 flex items-center justify-center"><i data-lucide="align-vertical-distribute" class="w-4 h-4 text-blue-500"></i></span>
                      <span class="w-20 text-xs text-gray-700">Ortodoncia</span>
                      <div class="flex-1 h-3 rounded bg-blue-100 relative">
                        <div class="absolute left-0 top-0 h-3 rounded bg-blue-500 text-sm" style="width: 70%"></div>
                      </div>
                      <span class="w-8 text-sm text-right font-medium">70 <span class="text-green-600 text-xs font-semibold ml-1">+10%</span></span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="w-6 h-6 flex items-center justify-center"><i data-lucide="align-vertical-distribute" class="w-4 h-4 text-green-500"></i></span>
                      <span class="w-20 text-xs text-gray-700">Endodoncia</span>
                      <div class="flex-1 h-3 rounded bg-green-100 relative">
                        <div class="absolute left-0 top-0 h-3 rounded bg-green-500 text-sm" style="width: 50%"></div>
                      </div>
                      <span class="w-8 text-sm text-right font-medium">50 <span class="text-red-600 text-xs font-semibold ml-1">-5%</span></span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="w-6 h-6 flex items-center justify-center"><i data-lucide="align-vertical-distribute" class="w-4 h-4 text-yellow-500"></i></span>
                      <span class="w-20 text-xs text-gray-700">Periodoncia</span>
                      <div class="flex-1 h-3 rounded bg-yellow-100 relative">
                        <div class="absolute left-0 top-0 h-3 rounded bg-yellow-500 text-sm" style="width: 30%"></div>
                      </div>
                      <span class="w-8 text-sm text-right font-medium">30 <span class="text-green-600 text-xs font-semibold ml-1">+2%</span></span>
                    </div>
                  </div>
                  <button class="mt-3 px-3 py-1 rounded bg-cyan-100 text-cyan-700 text-xs font-medium hover:bg-cyan-200 transition">Ver detalles</button>
                </div>
                <!-- Alertas/Sugest√µes -->
                <div class="card p-6 flex flex-col shadow-md">
                  <div class="flex items-center gap-2 mb-5">
                    <i data-lucide="alert-triangle" class="w-6 h-6 text-yellow-500"></i>
                    <span class="font-semibold text-base text-gray-900">Alertas & Sugestiones</span>
                  </div>
                  <ul class="flex-1 flex flex-col gap-2 mt-2 text-sm">
                    <li class="flex items-center gap-2 text-yellow-700"><i data-lucide="target" class="w-4 h-4"></i>Faltan 5 consultas para la meta</li>
                    <li class="flex items-center gap-2 text-red-600"><i data-lucide="trending-down" class="w-4 h-4"></i>Endodoncia baja 10% esta semana</li>
                    <li class="flex items-center gap-2 text-blue-700"><i data-lucide="bell" class="w-4 h-4"></i>3 pacientes sin retorno</li>
                    <li class="flex items-center gap-2 text-fuchsia-700"><i data-lucide="gift" class="w-4 h-4"></i>2 pacientes cumplen a√±os esta semana</li>
                  </ul>
                  <div class="flex gap-2 mt-3">
                    <button class="px-3 py-1 rounded bg-yellow-100 text-yellow-700 text-xs font-medium hover:bg-yellow-200 transition">Seguir</button>
                    <button class="px-3 py-1 rounded bg-blue-100 text-blue-700 text-xs font-medium hover:bg-blue-200 transition">Enviar recordatorio</button>
                  </div>
                </div>
              </div>
            </section>  
    </main>



  </div>
  
</div>
<script>lucide.createIcons();</script>

<script>
  const scroll = document.getElementById("doctor-scroll");
  let isDown = false;
  let startX;
  let scrollLeft;

  scroll.addEventListener("mousedown", (e) => {
    isDown = true;
    scroll.classList.add("active");
    startX = e.pageX - scroll.offsetLeft;
    scrollLeft = scroll.scrollLeft;
  });

  scroll.addEventListener("mouseleave", () => {
    isDown = false;
  });

  scroll.addEventListener("mouseup", () => {
    isDown = false;
  });

  scroll.addEventListener("mousemove", (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - scroll.offsetLeft;
    const walk = (x - startX) * 1.2;
    scroll.scrollLeft = scrollLeft - walk;
  });
</script>
<script>
  // Garante que o gr√°fico s√≥ ser√° criado ap√≥s o DOM estar pronto
  document.addEventListener('DOMContentLoaded', function () {
    const ctx = document.getElementById('leadsBarChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["Ene", "Feb", "Mar", "Abr", "May", "Jun"],
        datasets: [
          {
            label: "Leads Nuevos",
            data: [85, 92, 78, 110, 89, 94],
            backgroundColor: "#e4a800",
            borderRadius: 6,
            maxBarThickness: 32
          },
          {
            label: "Convertidos",
            data: [24, 29, 25, 33, 28, 31],
            backgroundColor: "#00d7aa",
            borderRadius: 6,
            maxBarThickness: 32
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: { enabled: true }
        },
        scales: {
          x: {
            grid: { display: false },
            ticks: { font: { size: 13 } }
          },
          y: {
            beginAtZero: true,
            grid: { color: '#f3f4f6' },
            ticks: { font: { size: 13 } }
          }
        }
      }
    });
  });
</script>

<script>
// Lista de alertas para o carrossel (agora 4)
const alerts = [
  {
    title: 'Leads sin mover',
    description: '5 leads llevan m√°s de 3 d√≠as sin actividad',
    priority: 'Alta',
    priorityColor: 'bg-red-200 text-red-700',
    cardBg: 'bg-red-50 border-red-500',
    border: 'border-l-4',
    button: { text: 'Contactar', color: 'bg-red-500 hover:bg-red-600 text-white' },
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M10.29 3.86l-8.09 14A2 2 0 004.18 21h15.64a2 2 0 001.98-2.14l-8.09-14a2 2 0 00-3.42 0z"/></svg>'
  },
  {
    title: 'NPS Bajo',
    description: '2 pacientes dieron calificaci√≥n menor a 7',
    priority: 'Alta',
    priorityColor: 'bg-red-200 text-red-700',
    cardBg: 'bg-red-100 border-red-500',
    border: 'border-l-4',
    button: { text: 'Crear Tarea', color: 'bg-red-500 hover:bg-red-600 text-white' },
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M3 3l6 6 4-4 8 8"/></svg>'
  },
  {
    title: 'Ausencias del d√≠a',
    description: '3 pacientes no asistieron a su cita',
    priority: 'Media',
    priorityColor: 'bg-yellow-100 text-yellow-700',
    cardBg: 'bg-yellow-50 border-yellow-500',
    border: 'border-l-4',
    button: { text: 'Reprogramar', color: 'bg-yellow-400 hover:bg-yellow-500 text-yellow-900' },
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4M8 2v4M3 10h18M9.5 16l5-5M14.5 16l-5-5"/></svg>'
  },
  {
    title: 'Suscripci√≥n',
    description: 'Plan vence en 7 d√≠as',
    priority: 'Media',
    priorityColor: 'bg-yellow-100 text-yellow-700',
    cardBg: 'bg-yellow-50 border-yellow-500',
    border: 'border-l-4',
    button: { text: 'Renovar', color: 'bg-yellow-400 hover:bg-yellow-500 text-yellow-900' },
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>'
  }
];

let currentAlert = 0;
function renderAlert() {
  const alert = alerts[currentAlert];
  // Card completo (desktop)
  const card = document.querySelector('.header-alert-card');
  if (card) {
    card.className = `card header-alert-card ${alert.cardBg} ${alert.border} rounded-xl shadow-sm px-4 md:px-6 py-2 sm:flex hidden items-center gap-3 min-w-0 max-w-lg mx-auto my-2`;
    card.innerHTML = `
      <div class="flex items-center justify-between gap-3 w-full">
        <div class="flex items-center gap-2">
          ${alert.icon}
          <div>
            <div class="font-semibold text-sm leading-tight ${alert.cardBg.includes('red') ? 'text-red-700' : 'text-yellow-700'}">
              ${alert.title}
              <span class="ml-2 ${alert.priorityColor} text-xs font-medium px-2 py-0.5 rounded-full">${alert.priority}</span>
            </div>
            <div class="text-[11px] sm:text-xs text-muted-foreground leading-tight whitespace-normal break-words">${alert.description}</div>
          </div>
        </div>
        <button class="rounded-full ${alert.button.color} text-xs font-semibold px-3 py-1 transition shadow-sm">${alert.button.text}</button>
      </div>
    `;
  }
  // Card compacto (mobile)
  const cardMobile = document.querySelector('.header-alert-card-mobile');
  if (cardMobile) {
    cardMobile.className = `card header-alert-card-mobile ${alert.cardBg} ${alert.border} rounded-xl shadow-sm px-2 py-1 flex sm:hidden items-center gap-2 w-full max-w-full`;
    cardMobile.innerHTML = `
      ${alert.icon}
      <span class="font-semibold text-xs ${alert.cardBg.includes('red') ? 'text-red-700' : 'text-yellow-700'}">${alert.title}</span>
      <span class="${alert.priorityColor} text-[10px] font-medium px-2 py-0.5 rounded-full">${alert.priority}</span>
      <button class="rounded-full ${alert.button.color} text-[10px] font-semibold px-2 py-0.5 transition shadow-sm ml-auto">${alert.button.text}</button>
    `;
  }
  setInterval(() => {
    currentAlert = (currentAlert + 1) % alerts.length;
    renderAlert();
  }, 60000);
}

document.addEventListener('DOMContentLoaded', () => {
  renderAlert();
});
</script>

<script>
// NPS Score Gauge Chart
document.addEventListener('DOMContentLoaded', function () {
  const canvas = document.getElementById('npsScoreGauge');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  // Gauge arcs
  const arcs = [
    { color: '#ef4444', start: Math.PI, end: Math.PI * 1.5 }, // Detratores
    { color: '#eab308', start: Math.PI * 1.5, end: Math.PI * 1.75 }, // Neutros
    { color: '#22c55e', start: Math.PI * 1.75, end: 2 * Math.PI }, // Promotores
    { color: '#e5e7eb', start: 2 * Math.PI, end: Math.PI }, // Fundo
  ];
  arcs.forEach(arc => {
    ctx.beginPath();
    ctx.arc(110, 110, 90, arc.start, arc.end, false);
    ctx.lineWidth = 18;
    ctx.strokeStyle = arc.color;
    ctx.stroke();
  });
  // Ponteiro
  const nps = 9.2;
  const percent = nps / 10;
  const pointerAngle = Math.PI + percent * Math.PI;
  const pointerLength = 75;
  ctx.save();
  ctx.translate(110, 110);
  ctx.rotate(pointerAngle - Math.PI);
  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.lineTo(pointerLength, 0);
  ctx.lineWidth = 5;
  ctx.strokeStyle = '#374151';
  ctx.stroke();
  ctx.restore();
});
</script>
</body>
</html>
